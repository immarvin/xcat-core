

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xcatconfig.8 &mdash; xCAT 2.12 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xCAT 2.12 documentation" href="../../../../index.html"/>
        <link rel="up" title="man8" href="index.html"/>
        <link rel="next" title="xcatd.8" href="xcatd.8.html"/>
        <link rel="prev" title="winstall.8" href="winstall.8.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> xCAT
          

          
          </a>

          
            
            
              <div class="version">
                2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install-guides/index.html">Install Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Admin Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../basic_concepts/index.html">Basic Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manage_clusters/index.html">Manage Clusters</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">References</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#xcat-man-pages">xCAT Man Pages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../man1/index.html">man1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man3/index.html">man3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man5/index.html">man5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man7/index.html">man7</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">man8</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#xcat-tools">xCAT Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../advanced/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../help.html">Need Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/index.html">Security Notices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">xCAT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Admin Guide</a> &raquo;</li>
      
          <li><a href="../index.html">References</a> &raquo;</li>
      
          <li><a href="index.html">man8</a> &raquo;</li>
      
    <li>xcatconfig.8</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/guides/admin-guides/references/man8/xcatconfig.8.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xcatconfig-8">
<h1>xcatconfig.8<a class="headerlink" href="#xcatconfig-8" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>NAME<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p><strong>xcatconfig</strong> - Sets up the  Management Node during the xCAT install.</p>
</div>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>xcatconfig</strong> [<strong>-h | -</strong><strong>-help</strong>]</p>
<p><strong>xcatconfig</strong> [<strong>-v | -</strong><strong>-version</strong>]</p>
<p><strong>xcatconfig</strong> [<strong>-i | -</strong><strong>-initinstall</strong>] [<strong>-V | -</strong><strong>-verbose</strong>]</p>
<p><strong>xcatconfig</strong> [<strong>-u | -</strong><strong>-updateinstall</strong>] [<strong>-V | -</strong><strong>-verbose</strong>]</p>
<p><strong>xcatconfig</strong> [<strong>-k | -</strong><strong>-sshkeys</strong>] [<strong>-s | -</strong><strong>-sshnodehostkeys</strong>] [<strong>-c | -</strong><strong>-credentials</strong>] [<strong>-d | -</strong><strong>-database</strong>] [<strong>-m | -</strong><strong>-mgtnode</strong>] [<strong>-t | -</strong><strong>-tunables</strong>] [<strong>-V | -</strong><strong>-verbose</strong>]</p>
<p><strong>xcatconfig</strong> [<strong>-f | -</strong><strong>-force</strong>] [<strong>-V | -</strong><strong>-verbose</strong>]</p>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p><strong>xcatconfig</strong> Performs basic xCAT setup operations on an xCAT management node. This command should not be run on an xCAT Service Node, unless you are making it a Management Node. See flag description below for more details.</p>
</div>
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p><strong>-h|-</strong><strong>-help</strong></p>
<blockquote>
<div>Displays the usage message.</div></blockquote>
<p><strong>-v|-</strong><strong>-version</strong></p>
<blockquote>
<div>Displays the release version of the code.</div></blockquote>
<p><strong>-V|-</strong><strong>-verbose</strong></p>
<blockquote>
<div>Displays verbose messages.</div></blockquote>
<p><strong>-i|-</strong><strong>-initialinstall</strong></p>
<blockquote>
<div>The install option is normally run as a post operation from the rpm xCAT.spec file during the initial install of xCAT on the Management Node. It will setup the root ssh keys, ssh node keys, xCAT credentials, initialize the datebase, export directories, start syslog and other daemons as needed after the initial install of xCAT.</div></blockquote>
<p><strong>-u|-</strong><strong>-updateinstall</strong></p>
<blockquote>
<div>The update install option is normally run as a post operation from the rpm xCAT.spec file during an update install of xCAT on the Management Node. It will check the setup the root ssh keys, ssh node keys, xCAT credentials, datebase, exported directories, syslog and the state of daemons needed by xCAT, after the updateinstall of xCAT. If setup is required, it will perform the operation.  It will restart the necessary daemons.</div></blockquote>
<p><strong>-k|-</strong><strong>-sshkeys</strong></p>
<blockquote>
<div>This option will remove and regenerate the root id_rsa keys.  It should only be used, if the keys are  deleted or corrupted. The keys must then be distribute to the nodes by installing, running updatenode -k, or using xdsh -K option, for root to be able to ssh to the nodes without being prompted for a password.
rspconfig will need to be run to distribute the key to the MM and HMCs. Any device, we need to ssh from the MN to the device will also have to be updated with the new ssh keys.</div></blockquote>
<p><strong>-s|-</strong><strong>-sshnodehostkeys</strong></p>
<blockquote>
<div>This option will remove and regenerate the node host ssh keys.  It should only be used, if the keys are deleted or are corrupted. The keys must then be redistribute to the nodes by installing, running updatenode -k  or using xdcp or pcp to copy the keys from /etc/xcat/hostkeys directory to the /etc/ssh directory on the nodes.</div></blockquote>
<p><strong>-c|-</strong><strong>-credentials</strong></p>
<blockquote>
<div>This option will remove all xcat credentials for root and any userids where credentials have been created. It will regenerate roots credentials,  but the admin will have to add back all the userid credentials needed with the /opt/xcat/share/xcat/scripts/setup-local-client.sh &lt;username&gt; command.  It should only be used, if they are deleted or become corrupted. The root credentials must be redistribed to the service nodes by installing the service node or using updatenode -k.  makeconservercf must be rerun to pick up the new credentials,  and conserver must be stop and started.</div></blockquote>
<p><strong>-d|-</strong><strong>-database</strong></p>
<blockquote>
<div>This option will reinitialize the basic xCAT database table setup.  It will not remove any new database entries that have been added, but it is strongly suggested that you backup you database (dumpxCATdb) before using it.</div></blockquote>
<p><strong>-f|-</strong><strong>-force</strong></p>
<blockquote>
<div>The force option may  be used after the install to reinitialize the Management Node. This option will  regenerate keys, credential and reinititialize the site table. This option should be used, if keys or credentials become corrupt or lost.
Additional action must be taken after using the force options.  ssh keys must be redistributed to the nodes, site table attributes might need to be restored, makeconservercf needs to be rerun to pick up the new credentials and conserver stopped and started, rspconfig needs to be rerun to distribute the new keys to the MM and the HMCs.
A new set of common ssh host keys will have  been generated for the nodes. If you wish your nodes to be able to ssh to each other with out password intervention,  then you should redistribute these new keys to the nodes. If the nodes hostkeys are updated then you will need to remove their entries from the known_hosts files on the management node before using ssh, xdsh, xdcp.
Redistribute credentials and ssh keys to the service nodes and ssh keys to the nodes by using the updatenode -k command.</div></blockquote>
<p><strong>-m|-</strong><strong>-mgtnode</strong></p>
<blockquote>
<div>This option will add the Management Node to the database with the correct attributes set to be recognized by xCAT.  This should be run after the hostname of the Management Node is set to the name that  will resolve to the cluster-facing NIC.</div></blockquote>
<p><strong>-t|-</strong><strong>-tunables</strong></p>
<blockquote>
<div>This option will set tunable parameters on the Management and Service nodes recommended for your Linux cluster.  It will only set them during initial install, if you run xcatconfig -f or xcatconfig -t.</div></blockquote>
</div>
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">To force regeneration of keys and credentials and reinitialize the site table:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatconfig</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
</li>
<li><p class="first">To regenerate root&#8217;s ssh keys:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatconfig</span> <span class="o">-</span><span class="n">k</span>
</pre></div>
</div>
</li>
<li><p class="first">To regenerate node host ssh keys:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatconfig</span> <span class="o">-</span><span class="n">s</span>
</pre></div>
</div>
</li>
<li><p class="first">To regenerate node host ssh keys and credentials:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatconfig</span> <span class="o">-</span><span class="n">s</span> <span class="o">-</span><span class="n">c</span>
</pre></div>
</div>
</li>
<li><p class="first">To add the Management Node to the DB:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatconfig</span> <span class="o">-</span><span class="n">m</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="xcatd.8.html" class="btn btn-neutral float-right" title="xcatd.8" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="winstall.8.html" class="btn btn-neutral" title="winstall.8" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, IBM Corporation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'2.12',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>