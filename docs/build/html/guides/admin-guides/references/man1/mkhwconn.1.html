

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mkhwconn.1 &mdash; xCAT 2.12 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xCAT 2.12 documentation" href="../../../../index.html"/>
        <link rel="up" title="man1" href="index.html"/>
        <link rel="next" title="mknimimage.1" href="mknimimage.1.html"/>
        <link rel="prev" title="mkflexnode.1" href="mkflexnode.1.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> xCAT
          

          
          </a>

          
            
            
              <div class="version">
                2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install-guides/index.html">Install Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Admin Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../basic_concepts/index.html">Basic Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manage_clusters/index.html">Manage Clusters</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">References</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#xcat-man-pages">xCAT Man Pages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html">man1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man3/index.html">man3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man5/index.html">man5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man7/index.html">man7</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man8/index.html">man8</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#xcat-tools">xCAT Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../advanced/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../help.html">Need Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/index.html">Security Notices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">xCAT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Admin Guide</a> &raquo;</li>
      
          <li><a href="../index.html">References</a> &raquo;</li>
      
          <li><a href="index.html">man1</a> &raquo;</li>
      
    <li>mkhwconn.1</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/guides/admin-guides/references/man1/mkhwconn.1.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mkhwconn-1">
<h1>mkhwconn.1<a class="headerlink" href="#mkhwconn-1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>NAME<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p><strong>mkhwconn</strong> - Sets up connections for CEC and Frame nodes to HMC nodes or hardware server.</p>
</div>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>mkhwconn</strong> [<strong>-h</strong>| <strong>-</strong><strong>-help</strong>]</p>
<p><strong>mkhwconn</strong> [<strong>-v</strong>| <strong>-</strong><strong>-version</strong>]</p>
<div class="section" id="ppc-with-hmc-specific">
<h3>PPC (with HMC) specific:<a class="headerlink" href="#ppc-with-hmc-specific" title="Permalink to this headline">¶</a></h3>
<p><strong>mkhwconn</strong> [<strong>-V</strong>| <strong>-</strong><strong>-verbose</strong>] <em>noderange</em> <strong>-t</strong> [<strong>-</strong><strong>-port</strong> <em>port_value</em>]</p>
<p><strong>mkhwconn</strong> [<strong>-V</strong>| <strong>-</strong><strong>-verbose</strong>] <em>noderange</em> <strong>-s</strong> [<em>hmcnode</em> <strong>-</strong><strong>-port</strong> <em>port_value</em>]</p>
<p><strong>mkhwconn</strong> [<strong>-V</strong>| <strong>-</strong><strong>-verbose</strong>] <em>noderange</em> <strong>-p</strong> <em>hmc</em> [<strong>-P</strong> <em>passwd</em>] [<strong>-</strong><strong>-port</strong> <em>port_value</em>]</p>
</div>
<div class="section" id="ppc-using-direct-fsp-management-specific">
<h3>PPC (using Direct FSP Management) specific:<a class="headerlink" href="#ppc-using-direct-fsp-management-specific" title="Permalink to this headline">¶</a></h3>
<p><strong>mkhwconn</strong> <em>noderange</em> <strong>-t</strong> [<strong>-T tooltype</strong>] [<strong>-</strong><strong>-port</strong> <em>port_value</em>]</p>
</div>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>For PPC (with HMC) specific:</p>
<p>This command is used to set up connections for CEC and Frame nodes to HMC nodes. (If the connection already exists, it will not break it.)
This command is useful when you have multiple HMCs, each of which will manage a subset of the CECs/Frames.  Use <strong>mkhwconn</strong> to tell
each HMC which CECs/Frames it should manage.  When using this, you should turn off the self-discovery on each HMC.  You also need
to put all the HMCs and all the Frames on a single flat service network.</p>
<p>When <strong>-t</strong> is specified, this command reads the connection information from the xCAT ppc table (e.g. the parent attribute), and read the user/password from the ppcdirect table. Then this command will assign CEC nodes and Frame nodes to HMC nodes.</p>
<p>When <strong>-p</strong> is specified, this command gets the connection information from command line arguments. If <strong>-P</strong> is not specified, the default password for CEC and Frame nodes is used.</p>
<p>The flag <strong>-s</strong> is used to make the connection between the frame and its Service focal point(HMC). Makehwconn will also set the connections between the CECs within this Frame and the HMC. The sfp of the frame/CEC can either be defined in ppc table beforehand or specified in command line after the flag -s. If the user use mkhwconn noderange -s HMC_name, it will not only make the connections but also set the sfp attributes for these nodes in PPC table.</p>
<p>In any case, before running this command, the CEC and Frame nodes need be defined with correct nodetype.nodetype value (cec or frame) and nodehm.mgt value (hmc).</p>
<p>Note: If a CEC belongs to a frame, which has a BPA installed, this CEC should not be assigned to an HMC individually. Instead, the whole frame should be assigned to the HMC.</p>
<p>For PPC (using Direct FSP Management) specific:</p>
<p>It is used to set up connections for CEC and Frame node to Hardware Server on management node (or service node ). It only could be done according to the node definition in xCAT DB. And this command will try to read the user/password from the ppcdirect table first. If fails, then read them from passwd table. Commonly , the username is <strong>HMC</strong>. If using the <strong>ppcdirect</strong> table,  each CEC/Frame and user/password should be  stored in <strong>ppcdirect</strong> table. If using the <strong>passwd</strong> table, the key should be &#8220;<strong>cec</strong>&#8221; or &#8220;<strong>frame</strong>&#8221;, and the related user/password are stored in <strong>passwd</strong> table.</p>
<p>When <strong>-</strong><strong>-port</strong> is specified, this command will create the connections for CECs/Frames whose side in <strong>vpd</strong> table is equal to port value.</p>
</div>
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p><strong>-h|-</strong><strong>-help</strong></p>
<blockquote>
<div>Display usage message.</div></blockquote>
<p><strong>-t</strong></p>
<blockquote>
<div>Read connection information from xCAT DB (ppc and ppcdirect tables).  Use this option if you need to connect multiple CECs/Frames
to multiple HMCs in a single command.</div></blockquote>
<p><strong>-p</strong></p>
<blockquote>
<div>The HMC node name. Only one HMC nodes can be specified by this flag. To setup connection for multiple HMC nodes, use flag <strong>-t</strong>.</div></blockquote>
<p><strong>-P</strong></p>
<blockquote>
<div>The password of HMC based CEC/Frame login user(Default user name is &#8216;HMC&#8217;). This flag is optional.</div></blockquote>
<p><strong>-T</strong></p>
<blockquote>
<div>The tooltype is used to communicate to the CEC/Frame. The value could be <strong>lpar</strong> or <strong>fnm</strong>. The tooltype value <strong>lpar</strong> is for xCAT and <strong>fnm</strong> is for CNM. The default value is &#8220;<strong>lpar</strong>&#8221;.</div></blockquote>
<p><strong>-</strong><strong>-port</strong></p>
<blockquote>
<div>The port value specifies which special side will be used to create the connection to the CEC/Frame. The value could only be specified as &#8220;<strong>0</strong>&#8221; or &#8220;<strong>1</strong>&#8221; and the default value is &#8220;<strong>0,1</strong>&#8221;. If the user wants to use all ports to create the connection, he should not specify this value. If the port value is specified as &#8220;<strong>0</strong>&#8221;, in the vpd table, the side column should be <strong>A-0</strong> and <strong>B-0</strong>; If the port value is specified as &#8220;<strong>1</strong>&#8221;, the side column should be <strong>A-1</strong> and <strong>B-1</strong>. When making hardware connection between CEC/Frame and HMC, the value is used to specify the fsp/bpa port of the cec/frame and will be organized in order of &#8220;<strong>A-0,A-1,B-0,B-1</strong>&#8221;. If any side does not exist, the side would simply be ignored. Generally, only one port of a fsp/bap can be connected while another port be used as backup.</div></blockquote>
<p><strong>-s</strong></p>
<blockquote>
<div>The flag -s is used to make the connection between the frame and its Service Focal Point(HMC). -s flag is not supposed to work with other functional flags.</div></blockquote>
<p><strong>-V|-</strong><strong>-verbose</strong></p>
<blockquote>
<div>Verbose output.</div></blockquote>
</div>
<div class="section" id="return-value">
<h2>RETURN VALUE<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>0 The command completed successfully.</p>
<p>1 An error has occurred.</p>
</div>
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">To setup the connection for all CEC nodes in node group cec to HMC node, according to the definition in xCAT DB:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">mkhwconn</span> <span class="n">cec</span> <span class="o">-</span><span class="n">t</span>
</pre></div>
</div>
</li>
<li><p class="first">To setup the connection for Frame nodes in node group frame to HMC node hmc1, with password &#8216;abc123&#8217;:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">mkhwconn</span> <span class="n">frame</span> <span class="o">-</span><span class="n">p</span> <span class="n">hmc1</span> <span class="o">-</span><span class="n">P</span> <span class="n">abc123</span>
</pre></div>
</div>
</li>
<li><p class="first">To setup the connections for all CEC nodes in node group cec to hardware server, and the tooltype value is lpar:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">mkhwconn</span> <span class="n">cec</span> <span class="o">-</span><span class="n">t</span> <span class="o">-</span><span class="n">T</span> <span class="n">lpar</span>
</pre></div>
</div>
</li>
<li><p class="first">To setup the connections for all cecs nodes in node group cec to hardware server, and the tooltype value is lpar, and the port value is 1:</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">mkhwconn</span> <span class="n">cec</span> <span class="o">-</span><span class="n">t</span> <span class="o">-</span><span class="n">T</span> <span class="n">lpar</span> <span class="o">--</span><span class="n">port</span> <span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p class="first">To setup the connection between the frame and it&#8217;s SFP node. This command will also set the connections between the CECs within this frame and their SFP node. User need to define HMC_name in the database in advance, but no need to set the sfp attribute for these node, xCAT will set the HMC_name as ppc.sfp for these nodes. The CECs within this frame should have the same sfp attribute as the frame.</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">mkhwconn</span> <span class="n">cec</span> <span class="o">-</span><span class="n">s</span> <span class="n">HMC_name</span> <span class="o">-</span><span class="n">P</span> <span class="n">HMC_passwd</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="files">
<h2>FILES<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>$XCATROOT/bin/mkhwconn</p>
<p>(The XCATROOT environment variable is set when xCAT is installed. The
default value is &#8220;/opt/xcat&#8221;.)</p>
</div>
<div class="section" id="notes">
<h2>NOTES<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>This command is part of the xCAT software product.</p>
</div>
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p>lshwconn(1)|lshwconn.1, rmhwconn(1)|rmhwconn.1</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mknimimage.1.html" class="btn btn-neutral float-right" title="mknimimage.1" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mkflexnode.1.html" class="btn btn-neutral" title="mkflexnode.1" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, IBM Corporation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'2.12',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>