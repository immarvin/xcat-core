

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xcatchroot.1 &mdash; xCAT 2.12 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xCAT 2.12 documentation" href="../../../../index.html"/>
        <link rel="up" title="man1" href="index.html"/>
        <link rel="next" title="xcattest.1" href="xcattest.1.html"/>
        <link rel="prev" title="xcat2nim.1" href="xcat2nim.1.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> xCAT
          

          
          </a>

          
            
            
              <div class="version">
                2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install-guides/index.html">Install Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Admin Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../basic_concepts/index.html">Basic Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manage_clusters/index.html">Manage Clusters</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">References</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#xcat-man-pages">xCAT Man Pages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html">man1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man3/index.html">man3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man5/index.html">man5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man7/index.html">man7</a></li>
<li class="toctree-l4"><a class="reference internal" href="../man8/index.html">man8</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#xcat-tools">xCAT Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../advanced/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../help.html">Need Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/index.html">Security Notices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">xCAT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Admin Guide</a> &raquo;</li>
      
          <li><a href="../index.html">References</a> &raquo;</li>
      
          <li><a href="index.html">man1</a> &raquo;</li>
      
    <li>xcatchroot.1</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/guides/admin-guides/references/man1/xcatchroot.1.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xcatchroot-1">
<h1>xcatchroot.1<a class="headerlink" href="#xcatchroot-1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="name">
<h2>NAME<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h2>
<p><strong>xcatchroot</strong> - Use this xCAT command to modify an xCAT AIX diskless operating system image.</p>
</div>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>xcatchroot -h</strong></p>
<p><strong>xcatchroot [-V] -i</strong> <em>osimage_name cmd_string</em></p>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>For AIX diskless images this command will modify the AIX SPOT resource using
the chroot command.  You must include the name of an xCAT osimage
definition and the command that you wish to have run in the spot.</p>
<p><strong>WARNING:</strong></p>
<p>Be very careful when using this command!!!  Make sure you are
very clear about exactly what you are changing so that you do
not accidently corrupt the image.</p>
<p>As a precaution it is advisable to make a copy of the original
spot in case your changes wind up corrupting the image.</p>
<p>When you are done updating a NIM spot resource you should always run the NIM
check operation on the spot.</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">nim</span> <span class="o">-</span><span class="n">Fo</span> <span class="n">check</span> <span class="sr">&lt;spot_name&gt;</span>
</pre></div>
</div>
<p>The xcatchroot command will take care of any of the required setup so that
the command you provide will be able to run in the spot chroot environment.
It will also mount the lpp_source resource listed in the osimage definition
so that you can access additional software that you may wish to install.</p>
<p>For example, assume that the location of the spot named in the xCAT osimage
definition is /install/nim/spot/614spot/usr. The associated root directory in
this spot would be /install/nim/spot/614spot/usr/lpp/bos/inst_root.  The chroot
is automatically done to this new root directory.  The spot location is
mounted on /.../inst_root/usr so that when your command is run in the chroot
environment it is actually running commands from the spot usr location.</p>
<p>Also, the location of the lpp_source resource specified in the osimage
definition will be mounted to a subdirectory of the spot /.../inst_root
directory.  For example, if the lpp_source location is
/install/nim/lpp_source/614lpp_lpp_source then that would be mounted over
/install/nim/spot/614spot/usr/lpp/bos/inst_root/lpp_source.</p>
<p>When you provide a command string to run make sure you give the full paths
of all commands and files assuming the /.../inst_root directory is you root
directory.</p>
<p>If you wish to install software from the lpp_source location you would
provide a directory location of /lpp_source (or /lpp_source/installp/ppc
or /lpp_source/RPMS/ppc etc.) See the example below.</p>
<p>Always run the NIM check operation after you are done updating your spot.
(ex. &#8220;nim -o check &lt;spot_name&gt;&#8221;)</p>
</div>
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p><em>cmd_string</em></p>
<blockquote>
<div>The command you wish to have run in the chroot environment.  (Use a quoted
string.)</div></blockquote>
<p><strong>-h |-</strong><strong>-help</strong></p>
<blockquote>
<div>Display usage message.</div></blockquote>
<p><strong>-i</strong> <em>osimage_name</em></p>
<blockquote>
<div>The name of the xCAT osimage definition.</div></blockquote>
<p><strong>-V |-</strong><strong>-verbose</strong></p>
<blockquote>
<div>Verbose mode.</div></blockquote>
</div>
<div class="section" id="return-value">
<h2>RETURN VALUE<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>0 The command completed successfully.</p>
<p>1 An error has occurred.</p>
</div>
<div class="section" id="examples">
<h2>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>1) Set the root password to &#8220;cluster&#8221; in the spot so that when the diskless
node boots it will have a root password set.</p>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatchroot</span> <span class="o">-</span><span class="n">i</span> <span class="mi">614</span><span class="n">spot</span> <span class="s">&quot;/usr/bin/echo root:cluster | /usr/bin/chpasswd -c&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Install the bash rpm package.</li>
</ol>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatchroot</span> <span class="o">-</span><span class="n">i</span> <span class="mi">614</span><span class="n">spot</span> <span class="s">&quot;/usr/bin/rpm -Uvh /lpp_source/RPMS/ppc bash-3.2-1.aix5.2.ppc.rpm&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>To enable system debug.</li>
</ol>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatchroot</span> <span class="o">-</span><span class="n">i</span> <span class="mi">614</span><span class="n">spot</span> <span class="s">&quot;bosdebug -D -M&quot;</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>To set the &#8220;ipforwarding&#8221; system tunable.</li>
</ol>
<div class="highlight-perl"><div class="highlight"><pre><span class="n">xcatchroot</span> <span class="o">-</span><span class="n">i</span> <span class="mi">614</span><span class="n">spot</span> <span class="s">&quot;/usr/sbin/no -r -o ipforwarding=1&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="files">
<h2>FILES<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>/opt/xcat/bin/xcatchroot</p>
</div>
<div class="section" id="notes">
<h2>NOTES<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<p>This command is part of the xCAT software product.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="xcattest.1.html" class="btn btn-neutral float-right" title="xcattest.1" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="xcat2nim.1.html" class="btn btn-neutral" title="xcat2nim.1" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, IBM Corporation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'2.12',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>