

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>osimage &mdash; xCAT 2.12 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xCAT 2.12 documentation" href="../../../../index.html"/>
        <link rel="up" title="xCAT Objects" href="index.html"/>
        <link rel="next" title="xCAT Database" href="../xcat_db/index.html"/>
        <link rel="prev" title="group" href="group.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> xCAT
          

          
          </a>

          
            
            
              <div class="version">
                2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install-guides/index.html">Install Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Admin Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Basic Concepts</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">xCAT Objects</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="node.html">node</a></li>
<li class="toctree-l4"><a class="reference internal" href="group.html">group</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">osimage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../xcat_db/index.html">xCAT Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../global_cfg/index.html">Global Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network_planning/index.html">Network Planning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../node_type.html">xCAT Cluster OS Running Type</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../manage_clusters/index.html">Manage Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../references/index.html">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../advanced/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../help.html">Need Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../security/index.html">Security Notices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">xCAT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Admin Guide</a> &raquo;</li>
      
          <li><a href="../index.html">Basic Concepts</a> &raquo;</li>
      
          <li><a href="index.html">xCAT Objects</a> &raquo;</li>
      
    <li>osimage</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/guides/admin-guides/basic_concepts/xcat_object/osimage.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="osimage">
<h1>osimage<a class="headerlink" href="#osimage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>A logical definition of image which can be used to provision the node.</p>
</div>
<div class="section" id="key-attributes">
<h2>Key Attributes<a class="headerlink" href="#key-attributes" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>imagetype:</dt>
<dd><p class="first last">The type of operating system this definition represents (linux, AIX).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>osarch:</dt>
<dd><p class="first last">The hardware architecture of the nodes this image supports. Valid values: x86_64, ppc64, ppc64le.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>osvers:</dt>
<dd><p class="first last">The Linux distribution name and release number of the image. Valid values: rhels*, rhelc*, rhas*, centos*, SL*, fedora*, sles* (where * is the version #).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>pkgdir:</dt>
<dd><p class="first last">The name of the directory where the copied OS distro content are stored.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>pkglist:</dt>
<dd><p class="first last">The fully qualified name of a file, which contains the list of packages shipped in Linux distribution ISO which will be installed on the node.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>otherpkgdir</dt>
<dd><p class="first last">When xCAT user needs to install some additional packages not shipped in Linux distribution ISO, those packages can be placed in the directory specified in this attribute. xCAT user should take care of dependency problems themselves, by putting all the dependency packages not shipped in Linux distribution ISO in this directory and creating repository in this directory.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>otherpkglist:</dt>
<dd><p class="first last">The fully qualified name of a file, which contains the list of user specified additional packages not shipped in Linux distribution ISO which will be installed on the node.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>template:</dt>
<dd><p class="first last">The fully qualified name of the template file that will be used to create the OS installer configuration file for stateful installation (e.g. kickstart for RedHat, autoyast for SLES and preseed for Ubuntu).</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="use-cases">
<h2>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Case 1:</li>
</ul>
<p>List all the osimage objects</p>
<div class="highlight-python"><div class="highlight"><pre>lsdef -t osimage
</pre></div>
</div>
<ul class="simple">
<li>Case 2:</li>
</ul>
<p>Create a osimage definition &#8220;customized-rhels7-ppc64-install-compute&#8221; based on an existing osimage &#8220;rhels7-ppc64-install-compute&#8221;, the osimage &#8220;customized-rhels7-ppc64-install-compute&#8221; will inherit all the attributes of &#8220;rhels7-ppc64-install-compute&#8221; except installing the additional packages specified in the file &#8220;/tmp/otherpkg.list&#8221;:</p>
<p><em>step 1</em> : write the osimage definition &#8220;rhels7-ppc64-install-compute&#8221; to a stanza file &#8220;osimage.stanza&#8221;</p>
<div class="highlight-python"><div class="highlight"><pre>lsdef -z -t osimage -o rhels7-ppc64-install-compute &gt; /tmp/osimage.stanza
</pre></div>
</div>
<p>The content will look like</p>
<div class="highlight-python"><div class="highlight"><pre># &lt;xCAT data object stanza file&gt;

rhels7-ppc64-install-compute:
    objtype=osimage
    imagetype=linux
    osarch=ppc64
    osdistroname=rhels7-ppc64
    osname=Linux
    osvers=rhels7
    otherpkgdir=/install/post/otherpkgs/rhels7/ppc64
    pkgdir=/install/rhels7/ppc64
    pkglist=/opt/xcat/share/xcat/install/rh/compute.rhels7.pkglist
    profile=compute
    provmethod=install
    template=/opt/xcat/share/xcat/install/rh/compute.rhels7.tmpl
</pre></div>
</div>
<p><em>step 2</em> : modify the stanza file according to the attributes of &#8220;customized-rhels7-ppc64-install-compute&#8221;</p>
<div class="highlight-python"><div class="highlight"><pre># &lt;xCAT data object stanza file&gt;

customized-rhels7-ppc64-install-compute:
    objtype=osimage
    imagetype=linux
    osarch=ppc64
    osdistroname=rhels7-ppc64
    osname=Linux
    osvers=rhels7
    otherpkglist=/tmp/otherpkg.list
    otherpkgdir=/install/post/otherpkgs/rhels7/ppc64
    pkgdir=/install/rhels7/ppc64
    pkglist=/opt/xcat/share/xcat/install/rh/compute.rhels7.pkglist
    profile=compute
    provmethod=install
    template=/opt/xcat/share/xcat/install/rh/compute.rhels7.tmpl
</pre></div>
</div>
<p><em>step 3</em> : create the osimage &#8220;customized-rhels7-ppc64-install-compute&#8221; from the stanza file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cat</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">osimage</span><span class="o">.</span><span class="n">stanza</span> <span class="o">|</span><span class="n">mkdef</span> <span class="o">-</span><span class="n">z</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../xcat_db/index.html" class="btn btn-neutral float-right" title="xCAT Database" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="group.html" class="btn btn-neutral" title="group" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, IBM Corporation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'2.12',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>