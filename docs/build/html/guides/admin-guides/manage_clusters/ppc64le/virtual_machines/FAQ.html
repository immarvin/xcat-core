

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Trouble Shooting &mdash; xCAT 2.12 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="xCAT 2.12 documentation" href="../../../../../index.html"/>
        <link rel="up" title="Virtual Machines" href="index.html"/>
        <link rel="next" title="x86_64" href="../../x86_64/index.html"/>
        <link rel="prev" title="Manage Virtual Machine (VM)" href="manage_vms.html"/> 

  
  <script src="../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../index.html" class="icon icon-home"> xCAT
          

          
          </a>

          
            
            
              <div class="version">
                2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../install-guides/index.html">Install Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Admin Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../basic_concepts/index.html">Basic Concepts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Manage Clusters</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">IBM Power LE / OpenPOWER</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../configure/index.html">Configure xCAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../discovery/index.html">Hardware Discovery &amp; Define Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../management.html">Hardware Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../diskful/index.html">Diskful Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../diskless/index.html">Diskless Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../updatenode.html">Using Updatenode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../parallel_cmd.html">Parallel Commands</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Virtual Machines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../x86_64/index.html">x86_64</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../references/index.html">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../advanced/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../developers/index.html">Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../help.html">Need Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../security/index.html">Security Notices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../../index.html">xCAT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Admin Guide</a> &raquo;</li>
      
          <li><a href="../../index.html">Manage Clusters</a> &raquo;</li>
      
          <li><a href="../index.html">IBM Power LE / OpenPOWER</a> &raquo;</li>
      
          <li><a href="index.html">Virtual Machines</a> &raquo;</li>
      
    <li>Trouble Shooting</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/guides/admin-guides/manage_clusters/ppc64le/virtual_machines/FAQ.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="trouble-shooting">
<h1>Trouble Shooting<a class="headerlink" href="#trouble-shooting" title="Permalink to this headline">¶</a></h1>
<div class="section" id="vnc-client-complains-the-credentials-are-not-valid">
<h2>VNC client complains the credentials are not valid<a class="headerlink" href="#vnc-client-complains-the-credentials-are-not-valid" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt><strong>Issue</strong>:</dt>
<dd>While connecting to the hypervisor with VNC, the vnc client complains &#8220;Authentication failed&#8221;.</dd>
<dt><strong>Solution</strong>:</dt>
<dd>Check whether the clocks on the hypervisor and headnode are synced</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="rpower-fails-with-error-internal-error-process-exited-while-reading-console-log-qemu-permission-denied">
<h2>rpower fails with &#8220;Error: internal error Process exited while reading console log qemu: Permission denied&#8221;<a class="headerlink" href="#rpower-fails-with-error-internal-error-process-exited-while-reading-console-log-qemu-permission-denied" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Issue</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>#rpower vm1 on
vm1: Error: internal error Process exited while reading console log output: char device redirected to /dev/pts/1
qemu: could not open disk image /var/lib/xcat/pools/2e66895a-e09a-53d5-74d3-eccdd9746eb5/vm1.sda.qcow2: Permission denied: internal error Process exited while reading console log output: char device redirected to /dev/pts/1
qemu: could not open disk image /var/lib/xcat/pools/2e66895a-e09a-53d5-74d3-eccdd9746eb5/vm1.sda.qcow2: Permission denied
</pre></div>
</div>
<dl class="docutils">
<dt><strong>Solution</strong>:</dt>
<dd><p class="first">Usually caused by incorrect permission in NFS server/client configuration. NFSv4 is enabled in some Linux distributions such as CentOS6 by default. The solution is simply to disable NFSv4 support on the NFS server by uncommenting the following line in &#8220;/etc/sysconfig/nfs&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">RPCNFSDARGS</span><span class="o">=</span><span class="s">&quot;-N 4&quot;</span>
</pre></div>
</div>
<p>Then restart the NFS services and try to power on the VM again...</p>
<p class="last"><strong>Note</strong>: For stateless hypervisor, purge the VM by <code class="docutils literal"><span class="pre">rmvm</span> <span class="pre">-p</span> <span class="pre">vm1</span></code>, reboot the hypervisor and then create the VM.</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="rpower-fails-with-error-internal-error-process-exited-while-connecting-to-monitor-qemu-permission-denied">
<h2>rpower fails with &#8220;Error: internal error: process exited while connecting to monitor qemu: Permission denied&#8221;<a class="headerlink" href="#rpower-fails-with-error-internal-error-process-exited-while-connecting-to-monitor-qemu-permission-denied" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Issue</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>#rpower vm1 on
vm1: Error: internal error: process exited while connecting to monitor: 2016-02-03T08:28:54.104601Z qemu-system-ppc64: -drive file=/var/lib/xcat/pools/c7953a80-89ca-53c7-64fb-2dcfc549bd45/vm1.sda.qcow2,if=none,id=drive-scsi0-0-0-0,format=qcow2,cache=none: Could not open &#39;/var/lib/xcat/pools/c7953a80-89ca-53c7-64fb-2dcfc549bd45/vm1.sda.qcow2&#39;: Permission denied
</pre></div>
</div>
<dl class="docutils">
<dt><strong>Solution</strong>:</dt>
<dd><p class="first">Usually caused by SELinux policies. The solution is simply to disable SELinux on the vmhost/hypervisor by editing &#8220;/etc/selinux/config&#8221; and change the SELINUX line to SELINUX=disabled:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">SELINUX</span><span class="o">=</span><span class="n">disabled</span>
</pre></div>
</div>
<p class="last">Then reboot the hypervisor...</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="rmigrate-fails-with-error-libvirt-error-code-38-message-unable-to-connect-to-server-at-c910f05c35-49152-no-route-to-host">
<h2>rmigrate fails with &#8220;Error: libvirt error code: 38, message: unable to connect to server at &#8216;c910f05c35:49152&#8217;: No route to host.&#8221;<a class="headerlink" href="#rmigrate-fails-with-error-libvirt-error-code-38-message-unable-to-connect-to-server-at-c910f05c35-49152-no-route-to-host" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Issue</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>#rmigrate vm1 kvmhost2
vm1: Error: libvirt error code: 38, message: unable to connect to server at &#39;kvmhost2:49152&#39;: No route to host: Failed migration of vm1 from kvmhost1 to kvmhost2
</pre></div>
</div>
<dl class="docutils">
<dt><strong>Solution</strong>:</dt>
<dd><p class="first">Usually caused by active firewall. To disable the firewall issue:</p>
<div class="last highlight-python"><div class="highlight"><pre>systemctl disable firewalld
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="rmigrate-fails-with-error-38-message-failed-to-create-directory-dir-name-file-exists-unknown-issue-libvirt-error-code">
<h2>rmigrate fails with &#8220;Error: 38, message: failed to create directory &#8216;&lt;dir-name&gt;&#8217;: File exists: Unknown issue libvirt error code.&#8221;<a class="headerlink" href="#rmigrate-fails-with-error-38-message-failed-to-create-directory-dir-name-file-exists-unknown-issue-libvirt-error-code" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Issue</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>#rmigrate vm1 kvmhost2
vm1: Error: 38, message: failed to create directory &#39;&lt;dir-name&gt;&#39;: File exists: Unknown issue libvirt error code.
</pre></div>
</div>
<dl class="docutils">
<dt><strong>Solution</strong>:</dt>
<dd>Ususally happens when <cite>nfs:</cite> is specified for vmstorage attribute but that NFS directory is no longer mounted. Make sure the directory /var/lib/xcat/pools is empty on the destination kvmhost.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="error-cannot-communicate-via-libvirt-to-kvmhost1">
<h2>Error: Cannot communicate via libvirt to kvmhost1<a class="headerlink" href="#error-cannot-communicate-via-libvirt-to-kvmhost1" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt><strong>Issue</strong>:</dt>
<dd>The kvm related commands complain &#8220;Error: Cannot communicate via libvirt to kvmhost1&#8221;</dd>
<dt><strong>Solution</strong>:</dt>
<dd>Usually caused by incorrect ssh configuration between xCAT management node and hypervisor. Make sure it is possible to access the hypervisor from management node via ssh without password.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="fail-to-ping-the-installed-vm">
<h2>Fail to ping the installed VM<a class="headerlink" href="#fail-to-ping-the-installed-vm" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt><strong>Issue</strong>:</dt>
<dd><p class="first">The newly installed stateful VM node is not pingable, the following message can be observed in the console during VM booting:</p>
<div class="last highlight-python"><div class="highlight"><pre>ADDRCONF(NETDEV_UP): eth0 link is not ready.
</pre></div>
</div>
</dd>
<dt><strong>Solutoin</strong>:</dt>
<dd><p class="first">Usually caused by the incorrect VM NIC model. Try the following steps to specify &#8220;virtio&#8221;:</p>
<div class="last highlight-python"><div class="highlight"><pre>rmvm vm1
chdef vm1 vmnicnicmodel=virtio
mkvm vm1
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../x86_64/index.html" class="btn btn-neutral float-right" title="x86_64" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="manage_vms.html" class="btn btn-neutral" title="Manage Virtual Machine (VM)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, IBM Corporation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../',
            VERSION:'2.12',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>